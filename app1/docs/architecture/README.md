# Project Architecture

## Stack

### Environment tools

- Unix
- Git
- Atom
- Chrome Dev Tools

### Platforms

- Node v4+
- Ever green browsers and IE11

### Languages

- ES2015
- JSX
- SASS

### Methodologies

- [Functional programming](https://en.wikipedia.org/wiki/Functional_programming)
- [Test-driven development](https://en.wikipedia.org/wiki/Test-driven_development)
- [CommonJS](http://commonjs.org)
- [Atomic design](http://atomicdesign.bradfrost.com)
- [BEM](https://en.bem.info)

### Tools

- Express
- React
- Redux
- Immutable
- jQuery

### Tasks and automation

- Gulp - Tasks runner
- Webpack - JS module manager
- Bower - Libraries manager
- Hologram - Design system generator
- Karma - Testing environment
- Mocha - Test runner

### Conventions

- Codification utf-8
- 2 space indentation
- Variables names, camel case
- File names, lowercase, separation by dashes

## Structure

### General

We use [npm scripts](https://docs.npmjs.com/misc/scripts) as API to our project.

- `node_modules/` - Server and universal modules
- `bower_components/` - Client libraries
- `package.json` - Server conf
- `bower.json` - Bower conf
- `gulpfile.js` - Gulp conf
- `webpack.base.js` - WebPack base conf
- `webpack.config.js` - WebPack conf
- `karma.conf.js` - Karma conf
- `hologram_config.yml` - Hologram conf
- `.editorconfig` - Editor conf
- `.jshintrc` - JSHint conf
- `.babelrc` - Babel conf
- `.gitignore`
- `.gitattributes`

### Project

We store the general project configuration at `package.json`.

Separate client and server side code in different locations. If there is code used universally, we place it in the client folder. Also, there are docs, automation tasks, executables, tests, and a client side distribution folder for public access.

We don't organize the files by isolated client components. We distribute them by category: **functional** `src/js/`, **design** `src/scss/`, **resources** `dist/` and **tests** `test/`. Possible resources source should be in `src/[RESOURCE]/`.

A page can be static or an SPA. If static, the entire page will be generated in server side with universal components. If SPA, most of the page will be generated by dynamic client JS, but can render from server.

The client source will be used to generate distribution files without nested folders. Example: `src/js/app1/app1.js` should generate `dist/js/app1.js`.

- `docs/` - Documentation
  - `spec/` - Specification
  - `architecture/` - Architecture and design
  - `styleguide/` - Style design system
  - `sass/` - SASS docs
  - `js/` - Universal API docs
  - `api/` - Server API docs
  - *`user/` - User documentation*
- `tasks/` - Automated tasks conf
- `bin/` - Executables
  - `server.js` - Server
- `api/` - Server API
  - `models/` - Data models
  - `urls/` - Endpoints
  - `log.js` - Logger
- `views/` - Server JSX templates
- *`lib/` - Client static libraries*
  - *`js/`*
  - *`css/`*
- `src/` - Source code (universal, client and server)
  - `js/`
    - *`tools/` - General tools*
    - *`i18n/` - Internationalization*
    - *`data/` - Data utils*
    - `components/` - React components
    - `core/` - Core utils
      - `analytics.js`
      - `core.js`
    - `[application]/` - Application template
      - `containers/` - React container components
      - *`data/`*
      - *`actions/`*
      - *`reducers/`*
      - *`stores/`*
      - *`routers.js`*
      - *`constants.js`*
      - `render.js`
      - *`[application]-server.js` - Server page generator*
      - `[application].js` - Client SPA script
    - `settings.js` - Client side conf
  - `scss/`
    - `components/` - React components styles
    - *`tools/` - SASS utils*
    - `core/` - Core styles
      - `core.scss`
    - `[application]/` - Application template
      - `[application].scss`
    - `_settings.scss`
- `dist/` - Client assets and built client code (the public folder)
  - `files/` - Dynamic files by users
  - `css/`
  - `js/`
  - `img/`
  - `fonts/`
  - `audio/`
  - `video/`
- `test/` - Universal tests
  - `integration/`
  - `tools/`
  - `components/`
  - `[application]/`
